(function(){"use strict";var t={5748:function(t,e,i){var s=i(9242),o=i(3396);const n={class:"content"},a={class:"header"};function r(t,e,i,s,r,m){const c=(0,o.up)("MyButton"),u=(0,o.up)("ToastNotifications"),l=(0,o.up)("SearchForm"),f=(0,o.up)("DialogWindow"),d=(0,o.up)("ItemList");return(0,o.wg)(),(0,o.iD)("div",{class:"body",onKeyup:e[2]||(e[2]=(...e)=>t.openDialog&&t.openDialog(...e))},[(0,o._)("div",n,[(0,o._)("div",a,[(0,o.Wm)(c,{class:"btn",onClick:e[0]||(e[0]=t=>r.showDialog=!0)},{default:(0,o.w5)((()=>[(0,o.Uk)("New tiker (N)")])),_:1})]),(0,o.Wm)(u,{ref:"notif",message:r.notificationMessage,status:r.status},null,8,["message","status"]),r.showDialog?((0,o.wg)(),(0,o.j4)(f,{key:0,onCloseDialog:e[1]||(e[1]=t=>r.showDialog=!1)},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{class:"main_form",onFound:m.setItem},null,8,["onFound"])])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(d,{items:r.items,onRemoveItem:m.removeItem},null,8,["items","onRemoveItem"])])],32)}i(7658);const m=t=>((0,o.dD)("data-v-bb452752"),t=t(),(0,o.Cn)(),t),c={class:"search-tiker"},u={class:"input-field"},l=m((()=>(0,o._)("label",{for:"tickerInput"},"Tiker search",-1))),f={key:0,class:"search-btn"};function d(t,e,i,n,a,r){return(0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",u,[l,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.name=t),type:"text",id:"tickerInput",onKeyup:e[1]||(e[1]=(0,s.D2)(((...t)=>r.findName&&r.findName(...t)),["enter"])),autocomplete:"off"},null,544),[[s.nr,a.name]])]),a.name?((0,o.wg)(),(0,o.iD)("div",f,[(0,o._)("button",{onClick:e[2]||(e[2]=(...t)=>r.findName&&r.findName(...t))},"Find")])):(0,o.kq)("",!0)])}var p={name:"SearchForm",data(){return{name:""}},methods:{findName(){this.$emit("found",this.name)}}},h=i(89);const v=(0,h.Z)(p,[["render",d],["__scopeId","data-v-bb452752"]]);var g=v;const w={key:0,class:"list-container"},y={key:1,class:"handler"},D=(0,o._)("h2",{style:{color:"var(--white)"}},"No tickers yet! :(",-1),k=[D];function I(t,e,i,s,n,a){const r=(0,o.up)("ListItem");return i.items.length>0?((0,o.wg)(),(0,o.iD)("div",w,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.items,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:"item-list",key:e},[(0,o.Wm)(r,{item:t,onRemoveItem:a.removeItem},null,8,["item","onRemoveItem"])])))),128))])):((0,o.wg)(),(0,o.iD)("div",y,k))}var _=i(7139);const b={class:"item-ticker"},C=(0,o._)("i",{class:"fa-solid fa-trash"},null,-1);function N(t,e,i,s,n,a){const r=(0,o.up)("MyButton");return(0,o.wg)(),(0,o.iD)("div",b,[(0,o._)("p",null,(0,_.zw)(i.item.name.toUpperCase())+" - USD",1),(0,o._)("h2",null,(0,_.zw)(this.currency),1),(0,o.Wm)(r,{class:"item-btn",onClick:a.removeItem},{default:(0,o.w5)((()=>[C,(0,o.Uk)(" Delete ")])),_:1},8,["onClick"])])}var T={name:"ListItem",data(){return{currency:"-"}},created(){setInterval((()=>{this.fetchApi()}),5e3)},props:{item:{type:Object,required:!0}},methods:{removeItem(){this.$emit("removeItem",this.item)},fetchApi(){let t=`https://min-api.cryptocompare.com/data/pricemulti?fsyms=${this.item.name.toUpperCase()}&tsyms=USD`;fetch(t).then((t=>t.json())).then((t=>{let e=t[this.item.name.toUpperCase()].USD;this.currency=e<1?e.toPrecision(2):e}))}}};const S=(0,h.Z)(T,[["render",N]]);var O=S,U={name:"ItemList",components:{ListItem:O},props:{items:{type:Array,required:!0}},methods:{removeItem(t){this.$emit("removeItem",t)}}};const x=(0,h.Z)(U,[["render",I]]);var $=x;const j={class:"notifications",id:"notifications"};function q(t,e,i,s,n,a){const r=(0,o.up)("Notification");return(0,o.wg)(),(0,o.iD)("ul",j,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.items,((t,e)=>((0,o.wg)(),(0,o.j4)(r,{key:e,icon:t.icon,text:t.message,timestamp:t.timestamp,status:t.status,onRemoveToast:a.removeToast},{default:(0,o.w5)((()=>[(0,o.Uk)((0,_.zw)(t.message),1)])),_:2},1032,["icon","text","timestamp","status","onRemoveToast"])))),128))])}const L={class:"column"};function M(t,e,i,s,n,a){return(0,o.wg)(),(0,o.iD)("div",{class:(0,_.C_)("toast "+i.status+(this.removing?" removing":""))},[(0,o._)("div",L,[(0,o._)("i",{class:(0,_.C_)(i.icon)},null,2),(0,o._)("span",null,(0,_.zw)(this.text),1)]),(0,o._)("i",{class:"fa-solid fa-xmark",onClick:e[0]||(e[0]=(...t)=>a.removeToast&&a.removeToast(...t))})],2)}var W={name:"Notification",data(){return{removing:!1}},props:{text:{type:String,required:!0},icon:{type:String,required:!0},timestamp:{type:Number,required:!0},status:{type:String,required:!0}},created(){setTimeout((()=>{this.removing=!0,setTimeout((()=>{this.removeToast()}),1e3)}),5e3)},methods:{removeToast(){this.$emit("removeToast",this.timestamp)}}};const Z=(0,h.Z)(W,[["render",M]]);var F=Z,R={name:"ToatsNotifications",data(){return{toastIcons:{success:"fa-solid fa-circle-check",warning:"fa-solid fa-triangle-exclamation",error:"fa-solid fa-circle-xmark",info:"fa-solid fa-circle-info"},items:[]}},props:{message:{type:String,required:!0},status:{type:String,required:!1}},components:{Notification:F},methods:{removeToast(t){this.items=this.items.filter((t=>{t.timestamp}))},pushToast(t){this.items.length>5&&this.items.shift(),this.items.push({message:t.message,icon:this.toastIcons[t.status],timestamp:Date.now()*Math.random(),status:t.status})}}};const K=(0,h.Z)(R,[["render",q],["__scopeId","data-v-4db3ce4b"]]);var z=K,A={name:"App",data(){return{name:"",timestamp:"",currency:"",items:[],notificationMessage:"",status:"info",showDialog:!1}},components:{SearchForm:g,ItemList:$,ToastNotifications:z},created(){document.addEventListener("keydown",(t=>{"n"===t.key.toLowerCase()&&(this.showDialog=!0)})),this.items=localStorage.getItem("items")?JSON.parse(localStorage.getItem("items")):[]},methods:{setItem(t){let e={name:t,timestamp:Date.now(),currency:"-"},i=`https://min-api.cryptocompare.com/data/pricemulti?fsyms=${e.name.toUpperCase()}&tsyms=USD`;fetch(i).then((t=>t.json())).then((i=>{if("Error"!==i.Response){for(let e=0;e<this.items.length;e++)if(this.items[e].name.toLowerCase()===t.toLowerCase())return void this.pushNotification(`There's already a ${t.toUpperCase()} item`,"warning");this.items.push(e),localStorage.setItem("items",JSON.stringify(this.items))}else this.pushNotification(`Can't find a ${t.toUpperCase()} item`,"error")})),this.showDialog=!1},removeItem(t){this.items=this.items.filter((e=>e!=t)),localStorage.setItem("items",JSON.stringify(this.items))},pushNotification(t,e){this.notificationMessage=t,this.status=e,this.$refs.notif.pushToast({message:this.notificationMessage,status:this.status})}}};const E=(0,h.Z)(A,[["render",r]]);var B=E;function J(t,e,i,s,n,a){return(0,o.wg)(),(0,o.iD)("button",{onClick:e[0]||(e[0]=(...e)=>t.findName&&t.findName(...e))},[(0,o.WI)(t.$slots,"default")])}var P={name:"MyButton"};const H=(0,h.Z)(P,[["render",J]]);var Y=H;function V(t,e,i,n,a,r){return(0,o.wg)(),(0,o.iD)("div",{class:"dialog-window",onClick:e[2]||(e[2]=(...t)=>r.closeDialog&&r.closeDialog(...t))},[(0,o._)("div",{class:"dialog-content",onClick:e[0]||(e[0]=(0,s.iM)((()=>{}),["stop"])),onKeyup:e[1]||(e[1]=(0,s.D2)(((...t)=>r.closeDialog&&r.closeDialog(...t)),["enter"]))},[(0,o.WI)(t.$slots,"default",{},void 0,!0)],32)])}var G={name:"DialogWindow",methods:{closeDialog(){this.$emit("closeDialog")}}};const Q=(0,h.Z)(G,[["render",V],["__scopeId","data-v-13acfff3"]]);var X=Q,tt=[Y,F,z,X];const et=(0,s.ri)(B);console.log(tt),tt.forEach((t=>et.component(t.name,t))),et.mount("#app")}},e={};function i(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,s,o,n){if(!s){var a=1/0;for(u=0;u<t.length;u++){s=t[u][0],o=t[u][1],n=t[u][2];for(var r=!0,m=0;m<s.length;m++)(!1&n||a>=n)&&Object.keys(i.O).every((function(t){return i.O[t](s[m])}))?s.splice(m--,1):(r=!1,n<a&&(a=n));if(r){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,o,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,n,a=s[0],r=s[1],m=s[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(m)var u=m(i)}for(e&&e(s);c<a.length;c++)n=a[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(u)},s=self["webpackChunk_4"]=self["webpackChunk_4"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(5748)}));s=i.O(s)})();
//# sourceMappingURL=app.98f69b8b.js.map